<Project Sdk="Microsoft.NET.Sdk">

    <Import Project="../.targets/test.targets" />

    <PropertyGroup>
        <ImplicitUsings>false</ImplicitUsings>
    </PropertyGroup>

    <ItemGroup>
        <ProjectReference Include="..\Conqueror.Abstractions\Conqueror.Abstractions.csproj" />
        <ProjectReference Include="..\Conqueror.SourceGenerators\Conqueror.SourceGenerators.csproj" />
    </ItemGroup>

    <ItemGroup>
        <PackageReference Update="NUnit" Version="4.3.2" />
        <PackageReference Include="Verify.NUnit" Version="28.14.1" />
        <PackageReference Include="Verify.SourceGenerators" Version="2.5.0" />
    </ItemGroup>

    <ItemGroup>
        <Content Include="*/TestCases/*/snapshot.received.txt" />
        <Content Include="*/TestCases/*/snapshot.verified.txt" />
        <EmbeddedResource Include="*/TestCases/*/source.cs" Condition="'$(DesignTimeBuild)' != 'true'" />

        <!--
            make sure the code is compiled while editing it in the IDE so that
            we get syntax highlighting and type checking, but exclude the files
            when running tests to prevent conflicts
         -->
        <Compile Remove="*/TestCases/*/*.cs" Condition="'$(DesignTimeBuild)' != 'true'" />
    </ItemGroup>

</Project>
